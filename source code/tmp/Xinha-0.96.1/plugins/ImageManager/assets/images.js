/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
function i18n(a){return Xinha._lc(a,"ImageManager")}function changeDir(a){showMessage("Loading");location.href=_backend_url+"__function=images&dir="+encodeURIComponent(a)}function newFolder(a,b){location.href=_backend_url+"__function=images&dir="+encodeURIComponent(a)+"&newDir="+encodeURIComponent(b)}function updateDir(d){var a=window.top.document.getElementById("dirPath");if(a){for(var c=0;c<a.length;c++){var b=a.options[c].text;if(b==d){a.selectedIndex=c;showMessage("Loading");break}}}}function selectImage(b,f,a,d){var c=window.top.document;var e=c.getElementById("f_url");e.value=b;var e=c.getElementById("f_width");e.value=a;var e=c.getElementById("f_width");e.value=a;var e=c.getElementById("f_height");e.value=d;var e=c.getElementById("f_alt");e.value=f;var e=c.getElementById("orginal_width");e.value=a;var e=c.getElementById("orginal_height");e.value=d;c.getElementById("f_preview").src=window.parent._backend_url+"__function=thumbs&img="+encodeURIComponent(b);update_selected()}var _current_selected=null;function update_selected(){var e=window.top.document;if(_current_selected){_current_selected.className=_current_selected.className.replace(/(^| )active( |$)/,"$1$2");_current_selected=null}var d=e.getElementById("f_url").value;var a=e.getElementById("dirPath");var f=a.options[a.selectedIndex].text;var c=new RegExp("^("+f.replace(/([\/\^$*+?.()|{}[\]])/g,"\\$1")+")([^/]*)$");if(c.test(d)){var b=document.getElementById("holder_"+asc2hex(RegExp.$2));if(b){_current_selected=b;b.className+=" active"}}}function asc2hex(d){var c="";for(var a=0;a<d.length;a++){var b=(d.charCodeAt(a)).toString(16);if(b.length==1){b="0"+b}c+=b}return c}function showMessage(b){var d=window.top.document;var c=d.getElementById("message");var a=d.getElementById("messages");if(c&&a){if(c.firstChild){c.removeChild(c.firstChild)}c.appendChild(d.createTextNode(i18n(b)));a.style.display="block"}}function addEvent(d,a,b){if(d.addEventListener){d.addEventListener(a,b,true);return true}else{if(d.attachEvent){var c=d.attachEvent("on"+a,b);return c}else{return false}}}function confirmDeleteFile(a){if(confirm(i18n("Delete file?"))){return true}return false}function confirmDeleteDir(a,b){if(b>0){alert(i18n("Please delete all files/folders inside the folder you wish to delete first."));return}if(confirm(i18n("Delete folder?"))){return true}return false}addEvent(window,"load",init);Xinha=window.parent.Xinha;