/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
var topDoc=window.top.document;var t_cx=topDoc.getElementById("cx");var t_cy=topDoc.getElementById("cy");var t_cw=topDoc.getElementById("cw");var t_ch=topDoc.getElementById("ch");var m_sx=topDoc.getElementById("sx");var m_sy=topDoc.getElementById("sy");var m_w=topDoc.getElementById("mw");var m_h=topDoc.getElementById("mh");var m_a=topDoc.getElementById("ma");var m_d=topDoc.getElementById("md");var s_sw=topDoc.getElementById("sw");var s_sh=topDoc.getElementById("sh");var r_ra=topDoc.getElementById("ra");var pattern="img/2x2.gif";function doSubmit(c){if(c=="crop"){var a=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=crop&params="+parseInt(t_cx.value)+","+parseInt(t_cy.value)+","+parseInt(t_cw.value)+","+parseInt(t_ch.value);location.href=a}else{if(c=="scale"){var a=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=scale&params="+parseInt(s_sw.value)+","+parseInt(s_sh.value);location.href=a}else{if(c=="rotate"){var f=topDoc.getElementById("flip");if(f.value=="hoz"||f.value=="ver"){location.href=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=flip&params="+f.value}else{if(isNaN(parseFloat(r_ra.value))==false){location.href=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=rotate&params="+parseFloat(r_ra.value)}}}else{if(c=="save"){var e=topDoc.getElementById("save_filename");var b=topDoc.getElementById("save_format");var d=topDoc.getElementById("quality");var i=b.value.split(",");if(e.value.length<=0){alert(i18n("Please enter a filename to save."))}else{var g=encodeURI(e.value);var h=parseInt(d.value);var a=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=save&params="+i[0]+","+h+"&file="+g;location.href=a}}}}}}function addEvent(d,a,b){if(d.addEventListener){d.addEventListener(a,b,true);return true}else{if(d.attachEvent){var c=d.attachEvent("on"+a,b);return c}else{return false}}}var jg_doc;init=function(){jg_doc=new jsGraphics("imgCanvas");jg_doc.setColor("#000000");initEditor()};addEvent(window,"load",init);