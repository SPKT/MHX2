/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
Xinha.loadStyle("ListType.css","ListType");function ListType(c){this.editor=c;var g=c.config;var k=this;if(g.ListType.mode=="toolbar"){var j={};j[Xinha._lc("Decimal numbers","ListType")]="decimal";j[Xinha._lc("Lower roman numbers","ListType")]="lower-roman";j[Xinha._lc("Upper roman numbers","ListType")]="upper-roman";j[Xinha._lc("Lower latin letters","ListType")]="lower-alpha";j[Xinha._lc("Upper latin letters","ListType")]="upper-alpha";if(!Xinha.is_ie){j[Xinha._lc("Lower greek letters","ListType")]="lower-greek"}var e={id:"listtype",tooltip:Xinha._lc("Choose list style type (for ordered lists)","ListType"),options:j,action:function(i){k.onSelect(i,this)},refresh:function(i){k.updateValue(i,this)},context:"ol"};g.registerDropdown(e);g.addToolbarElement("listtype",["insertorderedlist","orderedlist"],1)}else{c._ListType=c.addPanel("right");Xinha.freeLater(c,"_ListType");Xinha.addClass(c._ListType,"ListType");Xinha.addClass(c._ListType.parentNode,"dialog");c.notifyOn("modechange",function(l,i){if(i.mode=="text"){c.hidePanel(c._ListType)}});var h=["disc","circle","square","none"];var f=["decimal","lower-alpha","upper-alpha","lower-roman","upper-roman","none"];var b=document.createElement("div");b.style.height="90px";var a=document.createElement("div");this.divUL=a;a.style.display="none";for(var d=0;d<h.length;d++){a.appendChild(this.createImage(h[d]))}b.appendChild(a);var a=document.createElement("div");this.divOL=a;a.style.display="none";for(var d=0;d<f.length;d++){a.appendChild(this.createImage(f[d]))}b.appendChild(a);c._ListType.appendChild(b);c.hidePanel(c._ListType)}}Xinha.Config.prototype.ListType={mode:"toolbar"};ListType._pluginInfo={name:"ListType",version:"2.1",developer:"Laurent Vilday",developer_url:"http://www.mokhet.com/",c_owner:"Xinha community",sponsor:"",sponsor_url:"",license:"HTMLArea"};ListType.prototype.onSelect=function(b,d){var c=b._toolbarObjects[d.id].element;var a=b.getParentElement();while(!/^ol$/i.test(a.tagName)){a=a.parentNode}a.style.listStyleType=c.value};ListType.prototype.updateValue=function(b,f){var c=b._toolbarObjects[f.id].element;var a=b.getParentElement();while(a&&!/^ol$/i.test(a.tagName)){a=a.parentNode}if(!a){c.selectedIndex=0;return}var e=a.style.listStyleType;if(!e){c.selectedIndex=0}else{for(var d=c.firstChild;d;d=d.nextSibling){d.selected=(e.indexOf(d.value)!=-1)}}};ListType.prototype.onUpdateToolbar=function(){if(this.editor.config.ListType.mode=="toolbar"){return}var a=this.editor.getParentElement();while(a&&!/^[o|u]l$/i.test(a.tagName)){a=a.parentNode}if(a&&/^[o|u]l$/i.test(a.tagName)){this.showPanel(a)}else{if(this.editor._ListType.style.display!="none"){this.editor.hidePanel(this.editor._ListType)}}};ListType.prototype.createImage=function(e){var d=this;var c=this.editor;var b=document.createElement("a");b.href="javascript:void(0)";Xinha._addClass(b,e);Xinha._addEvent(b,"click",function(){var a=c._ListType.currentListTypeParent;a.style.listStyleType=e;d.showActive(a);return false});return b};ListType.prototype.showActive=function(a){var d=(a.tagName.toLowerCase()=="ul")?this.divUL:this.divOL;this.divUL.style.display="none";this.divOL.style.display="none";d.style.display="block";var e=a.style.listStyleType;if(""==e){e=(a.tagName.toLowerCase()=="ul")?"disc":"decimal"}for(var c=0;c<d.childNodes.length;c++){var b=d.childNodes[c];if(Xinha._hasClass(b,e)){Xinha._addClass(b,"active")}else{Xinha._removeClass(b,"active")}}};ListType.prototype.showPanel=function(a){this.editor._ListType.currentListTypeParent=a;this.showActive(a);this.editor.showPanel(this.editor._ListType)};